/* ================================
   Arcana — global styles (full)
   ================================ */

/* ---- CSS variables ---- */
:root{
  --bg-0: #0a0b10;
  --bg-1: #0e0f15;
  --bg-2: #11131b;
  --ink: #ffffff;
  --ink-dim: rgba(255,255,255,.72);
  --ink-soft: rgba(255,255,255,.55);
  --line: rgba(255,255,255,.12);
  --glow: 0 0 24px rgba(255,255,255,.18), 0 0 60px rgba(120,120,255,.12);
  --brand: #d8e3ff;
  --accent: #696a68;
  --accent-2: #9ad1ff;

  --radius-2: 10px;
  --radius-3: 16px;
  --radius-pill: 999px;

  --pad-h: clamp(14px, 4vw, 28px);
  --maxw: 1100px;

  --spot-size: 26vmin;         /* spotlight circle size */
}

/* ---- Base ---- */
*{ box-sizing:border-box; }
html,body{ height:100%; }
html{ color-scheme: dark; }
body{
  margin:0;
  font-family: "Space Grotesk", system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  color: var(--ink);
  background: radial-gradient(1200px 600px at 50% -20%, #1b1f2a 0%, #0c0e13 50%, #090a0f 100%) fixed;
  overflow-x:hidden;
}

/* smooth text + selection */
body, input, textarea, button { -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
::selection{ background: rgba(151, 189, 255, .35); }

/* Utilities */
.wrap{ width:100%; max-width:var(--maxw); margin:0 auto; padding: 0 var(--pad-h); }
.hidden{ display:none !important; }

/* =========================================
   Cosmic background (three star layers)
   ========================================= */
.sky{ position:fixed; inset:0; pointer-events:none; z-index:-3; }
.sky--back{
  background:
          radial-gradient(1px 1px at 10% 20%, rgba(255,255,255,.32) 50%, transparent 51%) repeat,
          radial-gradient(1px 1px at 80% 30%, rgba(255,255,255,.22) 50%, transparent 51%) repeat,
          radial-gradient(1px 1px at 40% 70%, rgba(255,255,255,.28) 50%, transparent 51%) repeat;
  background-size: 600px 400px, 700px 500px, 800px 600px;
  animation: driftBack 120s linear infinite;
  opacity:.45;
}
.sky--mid{
  background:
          radial-gradient(1px 1px at 30% 10%, rgba(255,255,255,.45) 50%, transparent 51%) repeat,
          radial-gradient(1px 1px at 70% 80%, rgba(255,255,255,.40) 50%, transparent 51%) repeat;
  background-size: 500px 350px, 600px 420px;
  animation: driftMid 90s linear infinite;
  opacity:.6;
}
.sky--front{
  background:
          radial-gradient(1px 1px at 15% 60%, rgba(255,255,255,.8) 50%, transparent 51%) repeat,
          radial-gradient(1.2px 1.2px at 55% 35%, rgba(255,255,255,.9) 50%, transparent 51%) repeat;
  background-size: 380px 260px, 420px 280px;
  animation: driftFront 75s linear infinite;
  opacity:.75;
}
.sky-belt{
  position:fixed; inset:0; pointer-events:none; z-index:-2;
  background:
          radial-gradient(60vmax 25vmax at 50% -15%, rgba(120,140,255,.18), transparent 60%),
          radial-gradient(80vmax 35vmax at -10% 90%, rgba(140,120,255,.1), transparent 60%),
          radial-gradient(80vmax 35vmax at 110% 90%, rgba(140,120,255,.08), transparent 60%);
}

/* shooting stars */
.shooting{
  position:fixed; width:2px; height:2px; background:transparent; pointer-events:none; z-index:-1;
  box-shadow: 0 0 12px 4px rgba(255,255,255,.7);
  transform: translate3d(-20vw, -20vh, 0);
  animation: shoot 8s linear infinite;
}
.shooting--a{ top:12%; left:15%; animation-delay:1s; }
.shooting--b{ top:22%; left:70%; animation-delay:3.8s; }
.shooting--c{ top:35%; left:40%; animation-delay:6.2s; }
@keyframes shoot{
  0%   { opacity:0; transform:translate3d(-10vw,-10vh,0) rotate(35deg); }
  10%  { opacity:.8; }
  50%  { opacity:.8; transform:translate3d(60vw,40vh,0) rotate(35deg); }
  100% { opacity:0; transform:translate3d(100vw,60vh,0) rotate(35deg); }
}
@keyframes driftBack { to{ background-position: 1200px 800px, -700px -500px, 800px 600px; } }
@keyframes driftMid  { to{ background-position: -500px 350px, 600px -420px; } }
@keyframes driftFront{ to{ background-position: 380px -260px, -420px 280px; } }

/* spotlight that follows cursor/touch (JS sets --x/--y) */
#spotlight{
  position:fixed; inset:0; pointer-events:none; z-index:-1;
  --x: 50vw; --y: 45vh;
  background:
          radial-gradient(var(--spot-size) var(--spot-size) at var(--x) var(--y),
          rgba(255,255,255,.085), transparent 60%);
  transition: background .08s linear;
}

/* =========================================
   Top bar
   ========================================= */
.topbar{
  position: sticky; top:0; z-index:30;
  display:flex; align-items:center; gap:.5rem;
  padding: 16px var(--pad-h);
  background: linear-gradient(to bottom, rgba(12,14,19,.68), rgba(12,14,19,0));
  backdrop-filter: blur(6px);
}
.topbar.home{ justify-content: space-between; } /* Home: brand + star/menu */
.topbar.page{ justify-content: flex-start; }    /* Inner pages: back only */

.brand-mini{
  color:var(--ink); text-decoration:none;
  font: 600 18px/1.1 "EB Garamond", serif;
  letter-spacing:.02em;
}
.menu-icon{
  display:grid; place-items:center;
  width:44px; height:44px; border-radius:50%;
  border:1px solid var(--line);
  background: radial-gradient(60% 60% at 50% 40%, rgba(255,255,255,.12), rgba(255,255,255,.02));
  color:var(--ink); cursor:pointer;
  transition: transform .15s ease, border-color .2s ease, background .2s ease;
}
.menu-icon:hover{ transform: translateY(-1px); border-color: rgba(255,255,255,.3); }
.starlines{ filter:drop-shadow(0 0 8px rgba(255,255,255,.25)); }

/* Back button (non-home pages) */
.back-btn{
  display:inline-flex; align-items:center; gap:.6rem;
  padding:.46rem .92rem;
  border:1px solid var(--line);
  background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  backdrop-filter: blur(6px);
  border-radius: var(--radius-pill);
  color:#fff; font:600 14px/1 "Space Grotesk", system-ui;
  letter-spacing:.02em; cursor:pointer;
  transition: transform .15s ease, border-color .2s ease, background .2s ease;
}
.back-btn:hover{ transform:translateY(-1px); border-color:rgba(255,255,255,.35); }
.back-glyph{ font-size:18px; filter:drop-shadow(0 0 4px rgba(255,255,255,.35)); }
@media (max-width:520px){ .back-text{ display:none; } } /* icon-only on phones */

/* drawer (only used on Home) */
.drawer{
  position: fixed; inset:0 0 0 auto; width:min(92vw, 380px);
  background: rgba(14,16,22,.85);
  backdrop-filter: blur(14px);
  transform: translateX(100%); transition: transform .28s ease;
  border-left:1px solid var(--line); z-index:50;
}
.drawer.open{ transform: translateX(0); }
.drawer-head{
  display:flex; align-items:center; justify-content:space-between;
  padding: 14px 16px; border-bottom:1px solid var(--line);
  font-weight:600; color:var(--ink-dim);
}
.drawer-close{
  width:36px; height:36px; border-radius:50%; border:1px solid var(--line);
  background:transparent; color:#fff; cursor:pointer;
}
.drawer-nav{ display:grid; gap:6px; padding: 12px; }
.drawer-link{
  display:flex; align-items:center; gap:.8rem;
  padding:12px 14px; border-radius:var(--radius-2);
  color:var(--ink); text-decoration:none; border:1px solid transparent;
  background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
}
.drawer-link:hover{ border-color:var(--line); }
.scrim{ position:fixed; inset:0; background:rgba(0,0,0,.35); z-index:40; }

/* =========================================
   Hero (home landing)
   ========================================= */
.hero{
  display:grid; place-items:center;
  min-height: calc(100vh - 84px);
  text-align:center;
}
.brand{
  margin: 8vh 0 10px;
  font: 600 clamp(44px, 9vw, 84px)/1.05 "EB Garamond", serif;
  letter-spacing:.02em;
  text-shadow: var(--glow);
}
.line{
  margin:0 0 24px;
  color: var(--ink-dim);
  font: 400 clamp(16px, 2.6vw, 20px)/1.6 "Space Grotesk", system-ui;
}
.cta-row{ display:flex; flex-wrap:wrap; justify-content:center; gap:12px; }

/* Buttons */
.btn{
  display:inline-flex; align-items:center; gap:.6rem;
  padding:.78rem 1.1rem;
  border-radius: var(--radius-pill);
  text-decoration:none; cursor:pointer;
  font: 600 15px/1 "Space Grotesk", system-ui; letter-spacing:.02em;
  transition: transform .15s ease, border-color .2s ease, background .2s ease, color .2s ease;
}
.btn-primary{
  color:#0b0e14; background: linear-gradient(180deg, #464c47, #383d38);
  box-shadow: 0 6px 28px rgba(239, 244, 241, 0.18);
}
.btn-primary:hover{ transform: translateY(-1px); }
.btn-ghost{
  color:var(--ink); border:1px solid var(--line);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
}
.btn-ghost:hover{ border-color: rgba(255,255,255,.32); transform: translateY(-1px); }
.arrow{ opacity:.7; }

/* =========================================
   Generic page content (books/videos/email/feed)
   ========================================= */
.page-title{
  font: 600 clamp(26px, 4.6vw, 38px)/1.1 "EB Garamond", serif;
  margin: 24px 0 12px;
}
.page-sub{ color:var(--ink-soft); margin:0 0 26px; }

/* Cards / list */
.card{
  border:1px solid var(--line);
  border-radius: var(--radius-3);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.015));
  padding: 16px;
}
.grid{
  display:grid; gap:12px;
  grid-template-columns: repeat(12, 1fr);
}
.grid--narrow{ max-width: 880px; margin: 0 auto; }

/* Books list */
.book-list{ display:grid; gap:12px; }
.book-item{ display:flex; justify-content:space-between; align-items:center; gap:12px; }
.book-item a{ color:var(--brand); text-decoration:none; }
.book-item a:hover{ text-decoration:underline; }

/* Video grid */
.video-grid{
  display:grid; gap:16px; margin: 8px 0 24px;
  grid-template-columns: repeat(auto-fill, minmax(320px,1fr));
}
.video-grid iframe{
  width:100%; aspect-ratio:16/9; border:1px solid var(--line); border-radius: var(--radius-3);
}

/* Forms (email + feed) */
.form{
  display:grid; gap:12px; padding: 12px;
  border:1px solid var(--line);
  border-radius: var(--radius-3);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.015));
  max-width: 880px; margin: 0 auto 18px;
}
label{ color:var(--ink-soft); font-size:14px; }
.input, .textarea{
  width:100%; color:#fff; background: rgba(255,255,255,.04);
  border:1px solid var(--line); border-radius: 14px;
  padding: 14px 14px; font-size:16px;  /* >=16px avoids iOS zoom */
  outline:none; transition: border-color .2s ease, background .2s ease, box-shadow .2s ease;
}
.input::placeholder, .textarea::placeholder{ color: rgba(255,255,255,.35); }
.input:focus, .textarea:focus{
  background: rgba(255,255,255,.06); border-color: rgba(180,220,255,.45);
  box-shadow: 0 0 0 3px rgba(120,170,255,.18);
}
.textarea{ min-height: 160px; resize: vertical; }
.form-row{ display:flex; gap:12px; flex-wrap:wrap; }
.form-note{ color:var(--ink-soft); font-size:14px; }
.form-actions{ display:flex; gap:10px; align-items:center; }
.form .btn-primary{ padding:.7rem 1.05rem; }

/* Feed list */
.feed{ list-style:none; padding:0; margin:0; display:grid; gap:10px; }
.post{
  border:1px solid var(--line); border-radius: var(--radius-3);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.015));
  padding:12px 14px;
}
.post-head{ display:flex; justify-content:space-between; align-items:center; gap:10px; margin-bottom:6px; }
.post-name{ font-weight:700; }
.post-time{ color:var(--ink-soft); font-size:12px; }
.post-link{ color:var(--accent-2); text-decoration:none; }
.post-link:hover{ text-decoration:underline; }

/* Footer */
.footer{
  margin-top: 40px; padding: 24px var(--pad-h) 36px;
  color: var(--ink-soft); text-align:center;
  border-top: 1px solid var(--line);
  background: linear-gradient(to top, rgba(255,255,255,.04), rgba(255,255,255,0));
}

/* =========================================
   Responsive tweaks
   ========================================= */
@media (max-width: 820px){
  .cta-row{ gap:10px; }
  .video-grid{ grid-template-columns: 1fr; }
}
@media (max-width: 560px){
  .hero{ min-height: calc(100vh - 70px); }
  .btn{ padding:.72rem .98rem; font-size:14px; }
  .input, .textarea{ border-radius: 12px; }
}
/* ====== THEME TWEAKS (elegant, no green) ====== */
:root{
  --accent: #d9dde7;    /* soft silver */
  --accent-2: #c7d8ff;  /* cool blue-silver */
}

/* Primary button: silver → ink (no green) */
.btn-primary{
  color:#0b0e14;
  background: linear-gradient(180deg, #f0f3f8, #cfd6e4);
  box-shadow: 0 6px 24px rgba(210,218,232,.18);
}
.btn-primary:hover{ transform: translateY(-1px); }

/* Links that used accent color */
.post-link,
.book-item a { color: var(--accent-2); }
.post-link:hover,
.book-item a:hover { text-decoration: underline; }

/* Form “note” text stays subtle */
.form-note{ color: rgba(255,255,255,.6); }

/* ====== BOOKS PAGE SPACING ====== */
/* Bring the list closer to the title */
.page-title{ margin: 12px 0 8px; }
.page-sub{   margin: 0 0 14px; }
.book-list{  gap: 10px; }
.book-item{  padding: 12px 14px; }

/* ====== HOMEPAGE HEADER LAYOUT ====== */
/* Ensure star/menu is pinned to the far right */
.topbar.home{
  justify-content: flex-start;
}
.topbar.home .brand-mini{
  margin-right: auto;             /* pushes the star to the right */
}
.topbar.home .menu-icon{
  margin-left: 0;
}

/* If a Back button accidentally appears on Home, hide it */
.topbar.home .back-btn{ display:none !important; }

/* ====== SMALL POLISH ====== */
/* Make outlines/hover look consistent with the new palette */
.btn-ghost{
  border-color: rgba(255,255,255,.14);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
}
.btn-ghost:hover{ border-color: rgba(255,255,255,.28); }
/* Inputs look neutral (no green halo) */
.input:focus, .textarea:focus{
  background: rgba(255,255,255,.06);
  border-color: rgba(210,220,240,.45);
  box-shadow: 0 0 0 3px rgba(190,205,235,.16);
}
